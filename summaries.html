<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>סיכומים ודגמים - כימיה ב.ג.</title>
    <link rel="stylesheet" href="./style.css"> 
    
    <script src="./3dmol-min.js"></script> 
    
    <style>
        /* CSS ספציפי לעמוד הסיכומים */
        .summary-section {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: right;
            border-right: 5px solid #1abc9c;
        }

        .summary-section h3 {
            color: #2c3e50;
            border-bottom: 1px solid #c0392b;
            padding-bottom: 5px;
            margin-top: 0;
            margin-bottom: 15px;
        }

        /* הגדרת גודל לקנבס 3Dmol */
        .molecule-display {
            width: 100%; 
            max-width: 600px;
            height: 350px; 
            margin: 20px auto;
            border: 2px solid #3498db;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative; 
            overflow: hidden; 
        }

        /* עיצוב מילון מונחים */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 15px;
        }

        .glossary-table th, .glossary-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: right;
        }

        .glossary-table th {
            background-color: #3498db;
            color: white;
            width: 30%;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>אתר תרגול כימיה 👨‍🔬 - מכינת ב.ג.</h1>
</div>

<div class="nav-bar">
    <a href="index.html" class="nav-btn">תרגול אדפטיבי (שאלות)</a>
    <a href="summaries.html" class="nav-btn active-tab">סיכומים ודגמים ויזואליים</a>
</div>

<div class="game-container">
    <h2>מבנה מולקולרי וקישור: דגמים אינטראקטיביים</h2>
    <p>הדגמים למטה מאפשרים לכם לסובב ולבחון את המבנה המרחבי של מולקולות מפתח. **לחץ וגרור על המולקולה כדי לסובב אותה.**</p>

    <div class="summary-section">
        <h3>1. מים ($H_2O$): מבנה זוויתי וקוטביות</h3>
        <p>למולקולת המים מבנה זוויתי ($104.5^{\circ}$) בגלל שני זוגות אלקטרונים לא קושרים. מבנה א-סימטרי זה הופך אותה לקוטבית ויוצר קשרי מימן חזקים.</p>
        <div id="canvas_water" class="molecule-display"></div>
    </div>
    
    <div class="summary-section">
        <h3>2. מתאן ($CH_4$): מבנה טטראדרי ואי-קוטביות</h3>
        <p>מבנה טטראדרי סימטרי ($109.5^{\circ}$). בגלל הסימטריה המושלמת, מומנטי הדיפול מתבטלים והמולקולה כולה אינה קוטבית.</p>
        <div id="canvas_methane" class="molecule-display"></div>
    </div>

    <div class="summary-section">
        <h3>3. חנקן ($N_2$): קשר משולש ($C \equiv C$) וסדר קשר גבוה</h3>
        <p>מולקולת החנקן מורכבת מקשר קוולנטי משולש (סדר קשר 3), שהוא הקשר הקוולנטי החזק ביותר בכימיה. המבנה הוא קווי (ליניארי).</p>
        <div id="canvas_nitrogen" class="molecule-display"></div>
    </div>
    
    <div class="summary-section">
        <h3>4. מילון מונחים מרכזי (Mastery Terms)</h3>
        <table class="glossary-table">
            <thead>
                <tr><th>מונח</th><th>הגדרה (דגש מתוך המצגות)</th></tr>
            </thead>
            <tbody>
                <tr><td>**אנרגיית יינון**</td><td>האנרגיה הדרושה להוצאת אלקטרון מאטום בודד. **מגמה:** יורדת בטור, עולה בשורה.</td></tr>
                <tr><td>**קשר יוני**</td><td>קשר שנוצר לרוב בין מתכת לאל-מתכת. יוצר מבנה של **סריג יוני** עם טמפרטורות היתוך גבוהות.</td></tr>
                <tr><td>**קשר קוולנטי**</td><td>קשר שנוצר בין גרעיני אל-מתכות על ידי **שיתוף** אלקטרונים. מחזיק יחד מולקולות או **סריגים אטומריים**.</td></tr>
                <tr><td>**כוחות לונדון**</td><td>אינטראקציות חלשות הקיימות בין **כל** המולקולות, עקב יצירת דו-קוטב רגעי.</td></tr>
                <tr><td>**סריג אטומרי**</td><td>מבנה ענק אינסופי המוחזק ע"י קשרים קוולנטיים (כמו יהלום). מתאפיין בנקודת היתוך גבוהה ביותר ואי-מוליכות.</td></tr>
            </tbody>
        </table>
    </div>

</div>

<script>
    // --- JavaScript להצגת מולקולות באמצעות 3Dmol.js (מקומית) ---
    
    // נתוני מים בפורמט PDB (קואורדינטות תלת-ממדיות)
    const water_pdb = `
ATOM      1  O   HOH A   1      -0.013   0.007   0.000  1.00 40.00           O
ATOM      2  H1  HOH A   1       0.957  -0.005   0.000  1.00 40.00           H
ATOM      3  H2  HOH A   1      -0.279  -0.887   0.000  1.00 40.00           H
END
    `;

    // נתוני מתאן בפורמט PDB
    const methane_pdb = `
ATOM      1  C   MET A   1       0.000   0.000   0.000  1.00 40.00           C
ATOM      2  H1  MET A   1       0.630   0.630   0.630  1.00 40.00           H
ATOM      3  H2  MET A   1       0.630  -0.630  -0.630  1.00 40.00           H
ATOM      4  H3  MET A   1      -0.630   0.630  -0.630  1.00 40.00           H
ATOM      5  H4  MET A   1      -0.630  -0.630   0.630  1.00 40.00           H
END
    `;
    
    // נתוני חנקן (N2) - לינארי וקשר משולש
    const nitrogen_pdb = `
ATOM      1  N1  N2  A   1      -0.540   0.000   0.000  1.00 40.00           N
ATOM      2  N2  N2  A   1       0.540   0.000   0.000  1.00 40.00           N
END
    `;

    // פונקציית טעינה כללית
    function loadMolecule(elementId, pdbData) {
        let element = document.getElementById(elementId);
        if (!element || typeof $3Dmol === 'undefined') {
            return; // עוצר אם האלמנט או הספרייה לא נטענו
        }
        
        let viewer = $3Dmol.createViewer(element, { 
            backgroundColor: 'white', 
            defaultcolors: $3Dmol.rasmolColors,
            doSpin: true // מאפשר סיבוב אינטראקטיבי
        });
        
        viewer.addModel(pdbData, "pdb");
        
        // הצגה ככדורים ומקלות (Ball and Stick)
        viewer.setStyle({}, { stick: { radius: 0.15 }, sphere: { scale: 0.3 } });
        
        viewer.zoomTo();
        viewer.render();
        
        // סיבוב אוטומטי קל כדי להדגיש את ה-3D
        viewer.spin('y', 0.5); 
    }

    // פונקציה שמפעילה את הצייר לאחר טעינת הדף
    function init3DmolViewer() {
        // בודק שהספרייה זמינה לפני שמנסה להשתמש בה
        if (typeof $3Dmol === 'undefined') {
             console.error("3Dmol.js failed to load locally. Please verify '3dmol-min.js' is in the root folder.");
             return;
        }
        loadMolecule('canvas_water', water_pdb);
        loadMolecule('canvas_methane', methane_pdb);
        loadMolecule('canvas_nitrogen', nitrogen_pdb);
    }
    
    // מפעיל את הפונקציה רק לאחר שכל הדף נטען
    window.onload = init3DmolViewer;

</script>
</body>
</html>
