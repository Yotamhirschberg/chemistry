<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>סיכומים ודגמים - כימיה ב.ג.</title>
    <link rel="stylesheet" href="./style.css"> 
    
    <script src="./3dmol-min.js"></script> 
    
    <style>
        /* CSS ספציפי לעמוד הסיכומים (ללא שינוי, העיצוב ב-style.css) */
        .summary-section {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: right;
            border-right: 5px solid #1abc9c;
        }

        .summary-section h3 {
            color: #2c3e50;
            border-bottom: 1px solid #c0392b;
            padding-bottom: 5px;
            margin-top: 0;
            margin-bottom: 15px;
        }

        /* הגדרת גודל לקנבס 3Dmol */
        .molecule-display {
            width: 100%; 
            max-width: 600px;
            height: 350px; 
            margin: 20px auto;
            border: 2px solid #3498db;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: relative; 
            overflow: hidden; 
        }

        /* עיצוב מילון מונחים */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 15px;
        }

        .glossary-table th, .glossary-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: right;
        }

        .glossary-table th {
            background-color: #3498db;
            color: white;
            width: 30%;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>אתר תרגול כימיה 👨‍🔬 - מכינת ב.ג.</h1>
</div>

<div class="nav-bar">
    <a href="index.html" class="nav-btn">תרגול אדפטיבי (שאלות)</a>
    <a href="summaries.html" class="nav-btn active-tab">סיכומים ודגמים ויזואליים</a>
</div>

<div class="game-container">
    <h2>מבנה מולקולרי וקישור: דגמים אינטראקטיביים</h2>
    <p>הדגמים למטה מאפשרים לכם לסובב ולבחון את המבנה המרחבי של מולקולות מפתח. **לחץ וגרור על המולקולה כדי לסובב אותה. גלול עם גלגלת העכבר להגדלה/הקטנה.**</p>

    <div class="summary-section">
        <h3>1. מים (H₂O): מבנה זוויתי וקוטביות</h3>
        <p>למולקולת המים מבנה זוויתי (כ-104.5°). המבנה הא-סימטרי הזה הופך אותה לקוטבית, דבר שמאפשר יצירת קשרי מימן.</p>
        <div id="canvas_water" class="molecule-display"></div>
    </div>
    
    <div class="summary-section">
        <h3>2. מתאן (CH₄): מבנה טטראדרי ואי-קוטביות</h3>
        <p>מבנה טטראדרי סימטרי (כ-109.5°). בגלל הסימטריה המושלמת, מומנטי הדיפול של הקשרים מתבטלים והמולקולה כולה אינה קוטבית.</p>
        <div id="canvas_methane" class="molecule-display"></div>
    </div>

    <div class="summary-section">
        <h3>3. חנקן (N₂): קשר משולש</h3>
        <p>מולקולת החנקן מורכבת מקשר קוולנטי משולש (סדר קשר 3), שהוא קשר קצר וחזק מאוד. המבנה הוא קווי (ליניארי).</p>
        <div id="canvas_nitrogen" class="molecule-display"></div>
    </div>
    
    <div class="summary-section">
        <h3>4. פחמן דו-חמצני (CO₂): מבנה קווי</h3>
        <p>למולקולה מבנה קווי (180°). למרות שיש קשרים קוטביים (C=O), המשיכות מתבטלות בשל הסימטריה המרחבית, ולכן המולקולה אינה קוטבית.</p>
        <div id="canvas_co2" class="molecule-display"></div>
    </div>

    <div class="summary-section">
        <h3>5. אמוניה (NH₃): פירמידה משולשת</h3>
        <p>למולקולה זו גיאומטריה של פירמידה משולשת. היא נוצרת מארבעה אזורים דוחים, כאשר אחד מהם הוא זוג אלקטרונים לא-קושרים הדוחף את קשרי המימן מטה.</p>
        <div id="canvas_ammonia" class="molecule-display"></div>
    </div>

    <div class="summary-section">
        <h3>6. בורון טריפלואוריד (BF₃): משולש מישורי</h3>
        <p>מולקולה סימטרית ואי-קוטבית לחלוטין. שלושה אטומים המחוברים ב-120° לאטום מרכזי (בורון). אין זוגות אלקטרונים לא קושרים על הבורון.</p>
        <div id="canvas_bf3" class="molecule-display"></div>
    </div>
    
    <div class="summary-section">
        <h3>7. מילון מונחים מרכזי (Mastery Terms)</h3>
        <table class="glossary-table">
            <thead>
                <tr><th>מונח</th><th>הגדרה (דגש מתוך המצגות)</th></tr>
            </thead>
            <tbody>
                <tr><td>**אנרגיית יינון**</td><td>האנרגיה הדרושה להוצאת אלקטרון מאטום בודד. **מגמה:** יורדת בטור, עולה בשורה.</td></tr>
                <tr><td>**קשר יוני**</td><td>קשר שנוצר לרוב בין מתכת לאל-מתכת. יוצר מבנה של **סריג יוני** עם טמפרטורות היתוך גבוהות.</td></tr>
                <tr><td>**קשר קוולנטי**</td><td>קשר שנוצר בין גרעיני אל-מתכות על ידי **שיתוף** אלקטרונים. מחזיק יחד מולקולות או **סריגים אטומריים**.</td></tr>
                <tr><td>**כוחות לונדון**</td><td>אינטראקציות חלשות הקיימות בין **כל** המולקולות, עקב יצירת דו-קוטב רגעי.</td></tr>
                <tr><td>**סריג אטומרי**</td><td>מבנה ענק אינסופי המוחזק ע"י קשרים קוולנטיים (כמו יהלום). מתאפיין בנקודת היתוך גבוהה ביותר ואי-מוליכות.</td></tr>
            </tbody>
        </table>
    </div>

</div>

<script>
    // --- JavaScript להצגת מולקולות באמצעות 3Dmol.js (מקומית) ---
    
    // נתונים בפורמט SMILES המכיל מידע על סדר הקשרים (הרבה יותר אמין מ-PDB בסיסי)
    const SMILES = {
        water: 'O', // פורמט זה יוצר את המבנה הזוויתי באופן אוטומטי
        methane: 'C',
        nitrogen: 'N#N', // ייצוג קשר משולש מפורש
        co2: 'O=C=O', // ייצוג קשר כפול מפורש
        ammonia: 'N',
        bf3: 'B(F)F)F', // ייצוג משולש מישורי
    };

    // פונקציית טעינה כללית
    function loadMolecule(elementId, smiles) {
        let element = document.getElementById(elementId);
        if (!element || typeof $3Dmol === 'undefined') {
            return;
        }
        
        // יצירת viewer, כולל הגבלת זום
        let viewer = $3Dmol.createViewer(element, { 
            backgroundColor: 'white', 
            defaultcolors: $3Dmol.rasmolColors,
            doSpin: true,
            // הגדרות שליטה מותאמות אישית: מגביל את רגישות הזום
            mouse: {
                zoom: {
                    type: $3Dmol.mousemode.ZOOM,
                    sensitivity: 0.5 // מקטין את הרגישות בחצי
                }
            }
        });
        
        // טעינת המודל מ-SMILES (אמין יותר לגאומטריה בסיסית)
        viewer.addModel(smiles, "smi", {h2o: true}); // h2o=true מסייע בהוספת מימנים
        
        // חישוב גאומטריה תלת-ממדית מנתוני SMILES (כדי להבטיח זווית)
        viewer.zoomTo();
        viewer.render();
        
        // הגדרת סגנון לאחר הטעינה
        viewer.setStyle({}, { 
            stick: { radius: 0.15 }, 
            sphere: { scale: 0.3 } 
        });

        // סיבוב אוטומטי קל 
        viewer.spin('y', 0.5); 
    }

    // פונקציה שמפעילה את הצייר לאחר טעינת הדף
    function init3DmolViewer() {
        if (typeof $3Dmol === 'undefined') {
             console.error("3Dmol.js failed to load locally.");
             return;
        }
        
        loadMolecule('canvas_water', SMILES.water);
        loadMolecule('canvas_methane', SMILES.methane);
        loadMolecule('canvas_nitrogen', SMILES.nitrogen);
        loadMolecule('canvas_co2', SMILES.co2);
        loadMolecule('canvas_ammonia', SMILES.ammonia);
        loadMolecule('canvas_bf3', SMILES.bf3);
    }
    
    window.onload = init3DmolViewer;

</script>
</body>
</html>
